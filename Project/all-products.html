<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>All Products - The Local Artisan Studio</title>
    <link rel="stylesheet" href="styles/main.css">
</head>
<body>
    <header role="banner">
        <nav role="navigation" aria-label="Main navigation">
            <div class="nav-container">
                <h1 class="logo">
                    <a href="index.html" aria-label="The Local Artisan Studio - Home">The Local Artisan Studio</a>
                </h1>
                <button class="nav-toggle" aria-label="Toggle navigation menu" aria-expanded="false">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
                <ul class="nav-menu" role="menubar">
                    <li role="none"><a href="index.html" role="menuitem" class="nav-link">Home</a></li>
                    <li role="none"><a href="framed-art.html" role="menuitem" class="nav-link">Framed Art</a></li>
                    <li role="none"><a href="abstract-sculptures.html" role="menuitem" class="nav-link">Abstract Sculptures</a></li>
                    <li role="none"><a href="wood-crafts.html" role="menuitem" class="nav-link">Wood Crafts</a></li>
                    <li role="none"><a href="all-products.html" role="menuitem" class="nav-link active" aria-current="page">All Products</a></li>
                    <li role="none"><a href="artists.html" role="menuitem" class="nav-link">Artists</a></li>
                    <li role="none">
                        <a href="cart.html" role="menuitem" class="nav-link cart-link" aria-label="Shopping cart">
                            Cart <span class="cart-count" id="cart-count" aria-live="polite">0</span>
                        </a>
                    </li>
                </ul>
            </div>
        </nav>
    </header>

    <main role="main">
        <section class="category-section">
            <div class="container">
                <!--<header class="category-header">
                    <h1>All Products</h1>
                    <p class="category-description">Browse our complete collection of handcrafted artwork, sculptures, and wood crafts. Each piece is unique and created by talented local artists.</p>
                </header>-->
                
                <div class="category-grid" id="all-products-grid">
                    <!-- Products will be loaded by JavaScript -->
                </div>
            </div>
        </section>
    </main>

    <footer role="contentinfo">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>Contact Us</h3>
                    <p>123 Art Street<br>
                    Creative District, CD 12345<br>
                    Phone: (555) 123-4567<br>
                    Email: info@localartisanstudio.com</p>
                </div>
                <div class="footer-section">
                    <h3>Categories</h3>
                    <ul>
                        <li><a href="framed-art.html">Framed Art</a></li>
                        <li><a href="abstract-sculptures.html">Abstract Sculptures</a></li>
                        <li><a href="wood-crafts.html">Wood Crafts</a></li>
                        <li><a href="all-products.html">All Products</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3>Follow Us</h3>
                    <p>Stay connected for new arrivals and artist spotlights</p>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 The Local Artisan Studio. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script src="js/main.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            loadAllProducts();
        });

        function loadAllProducts() {
            const allProducts = Object.values(products);
            const grid = document.getElementById('all-products-grid');
            
            if (!grid) return;
            
            // Add loading state
            grid.innerHTML = '<div class="loading-state" aria-live="polite">Loading products...</div>';
            grid.setAttribute('aria-busy', 'true');
            
            // Simulate async loading (remove this setTimeout in real implementation)
            setTimeout(() => {
                grid.innerHTML = '';
                grid.removeAttribute('aria-busy');
                
                allProducts.forEach(product => {
                    const artistDisplay = product.artistId && artists[product.artistId] 
                        ? `<a href="artist.html?id=${product.artistId}" class="artist-link">by ${product.artist}</a>`
                        : `by ${product.artist}`;
                    
                    const productCard = document.createElement('div');
                    productCard.className = 'product-card';
                    productCard.innerHTML = `
                        <div class="product-image">
                            <img src="${product.image}" alt="${product.name} by ${product.artist}" loading="lazy" onload="hideImagePlaceholder(this)" onerror="showImagePlaceholder(this)">
                            <div class="image-placeholder" aria-hidden="true" style="display: flex;">[Image Placeholder: ${product.name}]</div>
                        </div>
                        <div class="product-info">
                            <h3 class="product-name">${product.name}</h3>
                            <p class="artist-name">${artistDisplay}</p>
                            <p class="product-price" aria-label="Price: $${product.price}">$${product.price.toFixed(2)}</p>
                            <a href="details.html?item=${product.id}" class="view-details-btn" aria-describedby="product-${product.id}-name">View Details</a>
                        </div>
                    `;
                    
                    // Add unique ID for better screen reader support
                    const nameElement = productCard.querySelector('.product-name');
                    nameElement.id = `product-${product.id}-name`;
                    
                    grid.appendChild(productCard);
                });
                
                // Announce completion to screen readers
                const announcement = document.createElement('div');
                announcement.setAttribute('aria-live', 'polite');
                announcement.className = 'sr-only';
                announcement.textContent = `${allProducts.length} products loaded successfully.`;
                document.body.appendChild(announcement);
                setTimeout(() => document.body.removeChild(announcement), 1000);
            }, 100);
        }
    </script>
</body>
</html>